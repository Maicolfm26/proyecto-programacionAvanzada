<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

<ui:composition template="../WEB-INF/template.xhtml">
    <ui:define name="title">Crear favor</ui:define>
    <ui:define name="content">

        <h:form id="form-crear-domicilio" styleClass="container">
            <h:panelGrid columns="3" cellpadding="5">

                <p:outputLabel for="domicilio" value="Domicilio origen:"/>
                <p:selectOneMenu id="domicilio" style="width: 278px;" value="#{favorBean.favor.domicilioOrigen}"
                                 required="true"
                                 requiredMessage="El origen es obligatorio" converter="#{domicilioConverter}">
                    <f:selectItem itemLabel="Seleccionar un domicilio" noSelectionOption="true"/>
                    <f:selectItems var="domicilio" itemLabel="#{domicilio.getDireccion()}"
                                   value="#{favorBean.domicilios}"/>
                </p:selectOneMenu>
                <p:message for="domicilio"/>

                <p:outputLabel for="domicilio_destino" value="Domicilio destino:"/>
                <p:selectOneMenu id="domicilio_destino" style="width: 278px;" value="#{favorBean.favor.domicilioDestino}"
                                 required="true"
                                 requiredMessage="El destino es obligatorio" converter="#{domicilioConverter}">
                    <f:selectItem itemLabel="Seleccionar un domicilio" noSelectionOption="true"/>
                    <f:selectItems var="domicilio_destino" itemLabel="#{domicilio_destino.getDireccion()}"
                                   value="#{favorBean.domicilios}"/>
                </p:selectOneMenu>
                <p:message for="domicilio_destino"/>

                <p:outputLabel value="Descripción origen:" for="descripcion_origen"/>
                <p:textEditor id="descripcion_origen" value="#{favorBean.favor.descripcionOrigen}" height="150" secure="false"
                              required="true"/>
                <p:message for="descripcion_origen"/>

                <p:outputLabel value="Descripción destino:" for="descripcion_destino"/>
                <p:textEditor id="descripcion_destino" value="#{favorBean.favor.descripcionDestino}" height="150" secure="false"
                              required="true"/>
                <p:message for="descripcion_destino"/>

                <p:growl showDetail="true" for="msj-bean"/>
                <p:commandButton value="Pedir favor" action="#{favorBean.crearFavor}"
                                 styleClass="mt-4" update="@form" icon="pi pi-sign-in" iconPos="left"/>
            </h:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
</html>